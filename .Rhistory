}
#needs to be altered to be 1 df with all years
}
for (i in 1:length(statpop)) {
print(years[i])
if (years[i] >=2020) {
NOLOC_yr <- paste0("statpop/NOLOC/STATPOP",years[i],"_NOLOC.csv")
coords_baden <- read_delim(NOLOC_yr, delim = ";", escape_double = FALSE, trim_ws = TRUE, show_col_types = FALSE)%>%
select(E_KOORD,N_KOORD,RELI,GDENR)%>%
mutate(GMDE=`GDENR`)
baden_data <- left_join(coords_baden,communes_baden, by="GMDE") %>%
filter(!is.na(Gemeinde))
e_range <- range(baden_data$E_KOORD)
n_range <- range(baden_data$N_KOORD)
statpop_yr <- read_delim(statpop[i],
delim = ";", escape_double = FALSE, trim_ws = TRUE, show_col_types = FALSE) %>%
filter(E_KOORD %in% (e_range[1]:e_range[2]), N_KOORD %in% (n_range[1]:n_range[2]))
if (years[i] == 2021) {
statpop_baden <- statpop_yr #Adds 1st dataset to baden df
}
else {
select(statpop_yr, -c(X_KOORD,Y_KOORD,N_KOORD,E_KOORD)) #Removes Coordinates, as they stay constant throughout the years
statpop_baden <- left_join(statpop_baden, statpop_yr, by="RELI")
#Appends the new dataset to baden df, by joining by RELI, data belonging to each ha is put on the same row
}
}
else {
NOLOC_yr <- paste0("statpop/NOLOC/STATPOP",years[i],"_NOLOC.csv")
coords_baden <- read_delim(NOLOC_yr, show_col_types = FALSE)%>%
select(E_KOORD,N_KOORD,RELI,GDENR)%>%
mutate(GMDE=`GDENR`)
baden_data <- left_join(coords_baden,communes_baden, by="GMDE") %>%
filter(!is.na(Gemeinde))
e_range <- range(baden_data$E_KOORD)
n_range <- range(baden_data$N_KOORD)
statpop_yr <- read_delim(statpop[i],show_col_types = FALSE) %>%
filter(E_KOORD %in% (e_range[1]:e_range[2]), N_KOORD %in% (n_range[1]:n_range[2]))%>%
select(-c(X_KOORD,Y_KOORD,E_KOORD,N_KOORD))
statpop_baden <- left_join(statpop_baden, statpop_yr, by="RELI")
}
#needs to be altered to be 1 df with all years
}
View(statpop_yr)
df <- left_join(statpop_baden, statpop_yr, by="RELI")
View(df)
?left_join
df <- full_join(statpop_baden, statpop_yr, by="RELI")
View(df)
df <- full_join(statpop_baden, statpop_yr)
# creating first dataframe
df1 <- data.frame(col1 = LETTERS[1:6],
col2a = c(5:10),
col3a = TRUE)
print ("First DataFrame")
print (df1)
df2 <- data.frame(col1 = LETTERS[4:8],
col2b= c(4:8),
col3b = FALSE)
print ("Second DataFrame")
print (df2)
df_merge <- merge(df1,df2,by="col1")
print("Merged DataFrame")
print (df_merge)
df_merge <- merge(df1,df2,by="col1",all=TRUE)
print (df_merge)
df <- merge(statpop_baden, statpop_yr, by="RELI",all = TRUE)
?merge
df <- merge(statpop_baden, statpop_yr, by="RELI",all.x = TRUE)
df <- full_merge(statpop_baden, statpop_yr, by=join_by("RELI"))
df <- full_join(statpop_baden, statpop_yr, by=join_by("RELI"))
df <- full_join(statpop_baden, statpop_yr, by=join_by("RELI"))
write.csv(df,"df.csv")
for (i in 1:length(statpop)) {
print(years[i])
if (years[i] >=2020) {
NOLOC_yr <- paste0("statpop/NOLOC/STATPOP",years[i],"_NOLOC.csv")
coords_baden <- read_delim(NOLOC_yr, delim = ";", escape_double = FALSE, trim_ws = TRUE, show_col_types = FALSE)%>%
select(E_KOORD,N_KOORD,RELI,GDENR)%>%
mutate(GMDE=`GDENR`)
baden_data <- left_join(coords_baden,communes_baden, by="GMDE") %>%
filter(!is.na(Gemeinde))
e_range <- range(baden_data$E_KOORD)
n_range <- range(baden_data$N_KOORD)
statpop_yr <- read_delim(statpop[i],
delim = ";", escape_double = FALSE, trim_ws = TRUE, show_col_types = FALSE) %>%
filter(E_KOORD %in% (e_range[1]:e_range[2]), N_KOORD %in% (n_range[1]:n_range[2]))
if (years[i] == 2021) {
statpop_baden <- statpop_yr #Adds 1st dataset to baden df
}
else {
select(statpop_yr, -c(X_KOORD,Y_KOORD,N_KOORD,E_KOORD)) #Removes Coordinates, as they stay constant throughout the years
statpop_baden <- full_join(statpop_baden, statpop_yr, by="RELI")
#Appends the new dataset to baden df, by joining by RELI, data belonging to each ha is put on the same row
}
}
else {
NOLOC_yr <- paste0("statpop/NOLOC/STATPOP",years[i],"_NOLOC.csv")
coords_baden <- read_delim(NOLOC_yr, show_col_types = FALSE)%>%
select(E_KOORD,N_KOORD,RELI,GDENR)%>%
mutate(GMDE=`GDENR`)
baden_data <- left_join(coords_baden,communes_baden, by="GMDE") %>%
filter(!is.na(Gemeinde))
e_range <- range(baden_data$E_KOORD)
n_range <- range(baden_data$N_KOORD)
statpop_yr <- read_delim(statpop[i],show_col_types = FALSE) %>%
filter(E_KOORD %in% (e_range[1]:e_range[2]), N_KOORD %in% (n_range[1]:n_range[2]))%>%
select(-c(X_KOORD,Y_KOORD,E_KOORD,N_KOORD))
statpop_baden <- full_join(statpop_baden, statpop_yr, by="RELI")
}
#needs to be altered to be 1 df with all years
}
write.csv(statpop_baden,"statpop/STATPOP_Baden_2021_2011.csv")
library(readr)
Population_Baden_2021_2013 <- read_csv("analysis/population/Population_Baden_2021_2013.csv")
View(Population_Baden_2021_2013)
# baden
library(readxl)
rent_prices <- read_excel("rent prices.xlsx")
View(rent_prices)
for (i in 5:nrow(rent_prices)) {
house_2023 = as.numeric(rent_prices[i, 5])
apartement_2023 = as.numeric(rent_prices[i, 10])
rent <- mean(c(house_2023,apartement_2023), na.rm = TRUE)
print (rent)
rent_newyear <- rent * rent_prices[i,13]
rent_prices[i, 22] <- rent_newyear
for (l in 13:21) {
rent_newyear <- rent * rent_prices[i, l]
rent_prices[i, l+ 9] <- rent_newyear
}
}
write.csv(rent_prices, "rent_prices.csv")
library(readr)
rent_prices <- read_csv("rent_prices.csv")
View(rent_prices)
library(readr)
Population_Baden_2021_2013 <- read_csv("analysis/population/Population_Baden_2021_2013.csv")
View(Population_Baden_2021_2013)
library("ggplot2")
rent_prices <- read_csv("rent_prices.csv")
library(readr)
Population_Baden_2021_2013 <- read_csv("analysis/population/Population_Baden_2021_2013.csv")
x <- c(2013: 2021)
y <- c()
for (i in 2021:2013) {
popyr = Population_Baden_2021_2013[5,42i-38]
y<- c(y, popyr)
}
library("ggplot2")
rent_prices <- read_csv("rent_prices.csv")
library(readr)
Population_Baden_2021_2013 <- read_csv("analysis/population/Population_Baden_2021_2013.csv")
x <- c(2013: 2021)
y <- c()
for (s in 2021:2013) {
popyr = Population_Baden_2021_2013[5,42s-38]
for (s in 1:length(x) {
for (s in 1:length(x)) {
popyr = Population_Baden_2021_2013[5,42s-38]
for (s in 1:length(x)) {
popyr = Population_Baden_2021_2013[5,42s-38]
for (s in 1:length(x)) {
popyr = Population_Baden_2021_2013[5,42s-38]
for (s in 1:length(x)) {
popyr = Population_Baden_2021_2013[5,42*s-38]
y<- c(y, popyr)
}
View(y)
y[7]<- 18553
y[8]<- 18522
y[9]<-18189
View(y)
for (s in 1:length(x)) {
popyr = as.numeric(Population_Baden_2021_2013[5,42*s-38])
y<- c(y, popyr)
}
y[7]<- 18553
y[8]<- 18522
y[9]<-18189
y <- c()
for (s in 1:length(x)) {
popyr = as.numeric(Population_Baden_2021_2013[5,42*s-38])
y<- c(y, popyr)
}
y[7]<- 18553
y[8]<- 18522
y[9]<-18189
library("ggplot2")
rent_prices <- read_csv("rent_prices.csv")
library(readr)
Population_Baden_2021_2013 <- read_csv("analysis/population/Population_Baden_2021_2013.csv")
x <- c(2013: 2021)
y <- c()
for (s in 1:length(x)) {
popyr = as.numeric(Population_Baden_2021_2013[5,42*s-38])
y<- c(y, popyr)
}
y[7]<- 18553
y[8]<- 18522
y[9]<-18189
df <- data.frame(years = x, population = y)
print(df)
ggplot(df, aes(x=x, y=y)) +
geom_point()
library("ggplot2")
rent_prices <- read_csv("rent_prices.csv")
library(readr)
Population_Baden_2021_2013 <- read_csv("analysis/population/Population_Baden_2021_2013.csv")
x <- c(2013: 2021)
x2<- c(2013:2023)
y <- c()
y2<- c()
for (s in 1:length(x)) {
popyr = as.numeric(Population_Baden_2021_2013[5,42*s-38])
y<- c(y, popyr)
}
y[7]<- 18553
y[8]<- 18522
y[9]<-18189
df <- data.frame(years = x, population = y)
print(df)
ggplot(df, aes(x=x, y=y)) +
geom_point()
rent_prices1 <- c(2023)
for (s in 2:lenght(x2)) {
rentprices = as.numeric (rent_prices[5, s + 22])
rent_prices1<- c(rent_prices1, rentprices)
}
for (s in 2:length(x2)) {
rentprices = as.numeric (rent_prices[5, s + 22])
rent_prices1<- c(rent_prices1, rentprices)
}
rent_prices1 <- c(2023)
for (s in 2:length(x2)) {
rentprices = as.numeric (rent_prices[5, s + 21])
rent_prices1<- c(rent_prices1, rentprices)
}
rent_prices1 <- c(2023)
for (s in 2:length(x2)) {
rentprices = as.numeric (rent_prices[5, s + 22])
rent_prices1<- c(rent_prices1, rentprices)
}
rent_prices1 <- c(2023)
for (s in 2:length(x2)) {
rentprices = as.numeric (rent_prices[5,s + 20])
rent_prices1<- c(rent_prices1, rentprices)
}
y
rent_prices1 <- c(247)
for (s in 2:length(x2)) {
rentprices = as.numeric (rent_prices[5,s + 21])
rent_prices1<- c(rent_prices1, rentprices)
}
rlang::last_trace()
length(x2)
rent_prices1
library("ggplot2")
rent_prices <- read_csv("rent_prices.csv")
library(readr)
Population_Baden_2021_2013 <- read_csv("analysis/population/Population_Baden_2021_2013.csv")
x <- c(2013: 2021)
x2<- c(2013:2023)
y <- c()
y2<- c()
for (s in 1:length(x)) {
popyr = as.numeric(Population_Baden_2021_2013[5,42*s-38])
y<- c(y, popyr)
}
y[7]<- 18553
y[8]<- 18522
y[9]<-18189
df <- data.frame(years = x, population = y)
print(df)
ggplot(df, aes(x=x, y=y)) +
geom_point()
rent_prices1 <- c(247)
for (s in 2:length(x2)) {
rentprices = as.numeric (rent_prices[5,s + 21])
rent_prices1<- c(rent_prices1, rentprices)
}
df2 <- data.frame(years = x2, rent_prices = rent_prices1)
x2<- c(2013:2022)
df2 <- data.frame(years = x2, rent_prices = rent_prices1)
ggplot(df, aes(x=x, y=y)) +
geom_point() + geom_point(data=df2, aes(y=rent_prices))
ggplot(df, aes(x=x, y=y)) +
geom_point() + geom_point(data=df2, aes(x=x2,y=rent_prices))
View(gmd_data)
library("ggplot2")
rent_prices <- read_csv("rent_prices.csv")
library(readr)
Population_Baden_2021_2013 <- read_csv("analysis/population/Population_Baden_2021_2013.csv")
x <- c(2013: 2021)
x2<- c(2013:2022)
storage<- data.frame(years = x)
for (t in 5:30) {
y <- c()
y2<- c()
for (s in 1:length(x)) {
popyr = as.numeric(Population_Baden_2021_2013[t,42*s-38])
y<- c(y, popyr)
}
y[7]<- 18553
y[8]<- 18522
y[9]<-18189
df <- data.frame(years = x, population = y)
print(df)
ggplot(df, aes(x=x, y=y)) +
geom_point()
rent_prices1 <- c(247)
for (s in 2:length(x2)) {
rentprices = as.numeric (rent_prices[t,s + 21])
rent_prices1<- c(rent_prices1, rentprices)
}
df2 <- data.frame(years = x2, rent_prices = rent_prices1)
print(df)
}
ggplot(df, aes(x=x, y=y)) +
geom_point() + geom_point(data=df2, aes(x=x2,y=rent_prices))
library("ggplot2")
rent_prices <- read_csv("rent_prices.csv")
library(readr)
Population_Baden_2021_2013 <- read_csv("analysis/population/Population_Baden_2021_2013.csv")
x <- c(2013: 2021)
x2<- c(2013:2022)
storagepop<- data.frame(years = x)
storagerent<- data.frame(years = x2)
for (t in 5:30) {
y <- c()
y2<- c()
for (s in 1:length(x)) {
popyr = as.numeric(Population_Baden_2021_2013[t,42*s-38])
y<- c(y, popyr)
}
y[7]<- Population_Baden_2021_2013[t,260]
y[8]<- Population_Baden_2021_2013[t,306]
y[9]<- Population_Baden_2021_2013[t,343]
rent_prices1 <- c(247)
for (s in 2:length(x2)) {
rentprices = as.numeric (rent_prices[t,s + 21])
rent_prices1<- c(rent_prices1, rentprices)
}
storagepop[ncol(storagepop) + 1] <- c(y)
storagerent[ncol(storagerent)+1] <- c(y2)
}
ggplot(df, aes(x=x, y=y)) +
geom_point() + geom_point(data=df2, aes(x=x2,y=rent_prices))
View(storagepop)
View(storagerent)
for (t in 5:30) {
y <- c()
y2<- c()
for (s in 1:length(x)) {
popyr = as.numeric(Population_Baden_2021_2013[t,42*s-38])
y<- c(y, popyr)
}
y[7]<- Population_Baden_2021_2013[t,260]
y[8]<- Population_Baden_2021_2013[t,306]
y[9]<- Population_Baden_2021_2013[t,343]
rent_prices1 <- c(247)
for (s in 2:length(x2)) {
rentprices = as.numeric (rent_prices[t,s + 21])
rent_prices1<- c(rent_prices1, rentprices)
}
storagepop[ncol(storagepop) + 1] <- c(y)
storagerent[ncol(storagerent)+1] <- c(rent_prices1)
}
ggplot(storagepop, aes(x=years, y=storagepop[,2]) +
geom_point() + geom_point(data=storagerent, aes(x=years,y=storagerent[,2])
library("ggplot2")
library("ggplot2")
rent_prices <- read_csv("rent_prices.csv")
library(readr)
Population_Baden_2021_2013 <- read_csv("analysis/population/Population_Baden_2021_2013.csv")
x <- c(2013: 2021)
x2<- c(2013:2022)
storagepop<- data.frame(years = x)
storagerent<- data.frame(years = x2)
for (t in 5:30) {
y <- c()
y2<- c()
for (s in 1:length(x)) {
popyr = as.numeric(Population_Baden_2021_2013[t,42*s-38])
y<- c(y, popyr)
}
y[7]<- Population_Baden_2021_2013[t,260]
y[8]<- Population_Baden_2021_2013[t,306]
y[9]<- Population_Baden_2021_2013[t,343]
rent_prices1 <- c(247)
for (s in 2:length(x2)) {
rentprices = as.numeric (rent_prices[t,s + 21])
rent_prices1<- c(rent_prices1, rentprices)
}
storagepop[ncol(storagepop) + 1] <- c(y)
storagerent[ncol(storagerent)+1] <- c(rent_prices1)
}
ggplot(storagepop, aes(x=years, y=storagepop[,2]) +
geom_point() + geom_point(data=storagerent, aes(x=years,y=storagerent[,2])
d
ggplot(storagepop, aes(x=years, y=storagepop[,2]) +
d
ghj
ggplot(storagepop, aes(x=years, y=storagepop[,2]) +
geom_point() + geom_point(data=storagerent, aes(x=years,y=storagerent[,2]))
ggplot(storagepop, aes(x=years, y=storagepop[,2])) +
ggplot(storagepop, aes(x=years, y=storagepop[,2])) +
geom_point() +
geom_point(data=storagerent, aes(x=years,y=storagerent[,2]))
ggplot(storagepop, aes(x=years, y=storagepop[,3])) +
geom_point() +
geom_point(data=storagerent, aes(x=years,y=storagerent[,3]))
# baden
library(readxl)
rent_prices <- read_excel("rent prices.xlsx")
View(rent_prices)
for (i in 5:nrow(rent_prices)) {
house_2023 = as.numeric(rent_prices[i, 5])
apartement_2023 = as.numeric(rent_prices[i, 10])
rent <- mean(c(house_2023,apartement_2023), na.rm = TRUE)
print (rent)
rent_newyear <- rent * rent_prices[i,13]
rent_prices[i, 22] <- rent_newyear
for (l in 13:21) {
rent_newyear <- rent * rent_prices[i, l]
rent_prices[i, l+ 9] <- rent_newyear
}
}
write.csv(rent_prices, "rent_prices.csv")
library("ggplot2")
rent_prices <- read_csv("rent_prices.csv")
library("ggplot2")
rent_prices <- read_csv("rent_prices.csv")
library("ggplot2")
rent_prices <- read_csv("rent_prices.csv")
library("ggplot2")
library(readr)
rent_prices <- read_csv("rent_prices.csv")
Population_Baden_2021_2013 <- read_csv("analysis/population/Population_Baden_2021_2013.csv")
x <- c(2013: 2021)
x2<- c(2013:2022)
storagepop<- data.frame(years = x)
storagerent<- data.frame(years = x2)
for (t in 5:30) {
y <- c()
y2<- c()
for (s in 1:length(x)) {
popyr = as.numeric(Population_Baden_2021_2013[t,42*s-38])
y<- c(y, popyr)
}
y[7]<- Population_Baden_2021_2013[t,260]
y[8]<- Population_Baden_2021_2013[t,306]
y[9]<- Population_Baden_2021_2013[t,343]
rent_prices1 <- c(247)
for (s in 2:length(x2)) {
rentprices = as.numeric (rent_prices[t,s + 21])
rent_prices1<- c(rent_prices1, rentprices)
}
storagepop[ncol(storagepop) + 1] <- c(y)
storagerent[ncol(storagerent)+1] <- c(rent_prices1)
}
ggplot(storagepop, aes(x=years, y=storagepop[,3])) +
geom_point() +
geom_point(data=storagerent, aes(x=years,y=storagerent[,3]))
View(storagepop)
View(storagerent)
cor(storagerent$V2,storagepop$V2)
cor(storagerent$V2[1:9],storagepop$V2)
for (t in 5:30) {
y <- c()
y2<- c()
for (s in 1:length(x)) {
popyr = as.numeric(Population_Baden_2021_2013[t,42*s-38])
y<- c(y, popyr)
}
y[7]<- Population_Baden_2021_2013[t,260]
y[8]<- Population_Baden_2021_2013[t,306]
y[9]<- Population_Baden_2021_2013[t,343]
rent_prices1 <- c(247)
for (s in 2:length(x2)) {
rentprices = as.numeric (rent_prices[t,s + 21])
rent_prices1<- c(rent_prices1, rentprices)
}
storagepop[ncol(storagepop) + 1] <- c(y)
storagerent[ncol(storagerent)+1] <- c(rent_prices1)
}
View(Population_Baden_2021_2013)
View(statpop_yr)
library(readxl)
population_baden <- read_excel("analysis/population_baden.xlsx")
View(population_baden)
cor(storagerent$V2[1:9],population_baden[2, 3:12])
cor(storagerent$V2,population_baden[2, 3:12])
cor(storagerent$V2,population_baden[1, 3:12])
cor(storagerent$V2,population_baden[1, 3:13])
cor(storagerent$V2,population_baden[2, 3:13])
population_baden[2, 3:13]
storagerent$V2
myTibble<- as_tibble(storagerent)
library(tidyverse)
myTibble<- as_tibble(storagerent)
cor(myTibble$V2,population_baden[2, 3:12])
cor(myTibble$V2,population_baden[2, 3:13])
myTibble$V2
cor(myTibble,population_baden[2, 3:12])
myTibble<- as_tibble(storagerent$V2)
cor(myTibble,population_baden[2, 3:12])
myTibble
population_baden[2, 3:12]
myTibble<- as_tibble(storagerent$V2)
myTibble<- t(myTibble)
cor(myTibble,population_baden[2, 3:12])
View(myTibble)
